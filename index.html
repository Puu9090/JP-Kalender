<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lieblingsbilder</title>
    <style>
        body {
            background-color: black;
            color: #d4a1ff;
            font-family: Arial, sans-serif;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 600px;
            background: rgba(50, 50, 50, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px #d4a1ff;
        }
        .text-box {
            background: #800080;
            color: white;
            padding: 15px;
            border-radius: 10px;
            max-width: 90%;
            margin: 20px auto;
            display: none;
            text-align: left;
            font-size: 16px;
            line-height: 1.5;
        }
        button {
            background-color: #800080;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 20px;
            border-radius: 5px;
        }
        button:hover {
            background-color: #a64dff;
        }
        #image-container, #game-container {
            display: none;
            margin-top: 20px;
        }
        canvas {
            background: white;
            display: block;
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="container" id="intro">
        <p>Mein geliebtes Mucki-Bärchen... du fragst dich bestimmt, was das hier ist? Das bist du, wie ich dich sehe...</p>
        <p>Ich nehme dich mit auf eine Reise in meine Welt, in der ich dir auf meine Art erkläre, was es in mir auslöst, wenn ich diese echten und natürlichen Bilder von dir sehe, die du teilweise nicht einmal kennst...</p>
        <p>Bist du bereit für die Reise?</p>
        <button onclick="startJourney(true)">Jaaa büdde</button>
        <button onclick="startJourney(false)">Ahh no</button>
    </div>

    <div class="container" id="game-container">
        <p>Na gut, dann spielen wir erst eine Runde, vielleicht ändert das was an deiner Laune ;)</p>
        <canvas id="pongCanvas" width="400" height="300"></canvas>
        <button onclick="restartGame()">Jaa, von mir aus</button>
        <button onclick="endGame()">Nö, zeig mir ein Bild</button>
    </div>

    <div class="container" id="image-container">
        <img id="daily-image" src="" alt="Tägliches Bild">
        <div class="text-box" id="text-box"></div>
    </div>

    <script>
        let startDate = new Date(2025, 2, 15);
        let currentDay = Math.floor((new Date() - startDate) / (1000 * 60 * 60 * 24)) + 1;

        let texts = {
            1: "Das erste Bild... entstanden am 28.10.2023. Dein Gesichtsausdruck, wenn du weißt, dass du gleich den Schlafanzug anziehen kannst...",
            2: "Dieses Bild erinnert mich an unseren schönsten Moment...",
            3: "Hier sehe ich dich, wie du mein Herz erwärmst...",
        };

        function startJourney(isYes) {
            document.getElementById("intro").style.display = "none";
            if (!isYes) {
                document.getElementById("game-container").style.display = "block";
                startPongGame();
            } else {
                showImageAndText();
            }
        }

        function showImageAndText() {
            document.getElementById("image-container").style.display = "block";
            let img = document.getElementById("daily-image");
            let textBox = document.getElementById("text-box");
            img.src = `bilder/${currentDay}.jpg`;
            textBox.innerHTML = texts[currentDay] || "Heute gibt es keine Geschichte.";
            textBox.style.display = "block";
        }

        function restartGame() {
            startPongGame();
        }

        function endGame() {
            document.getElementById("game-container").style.display = "none";
            showImageAndText();
        }

        function startPongGame() {
            let canvas = document.getElementById("pongCanvas");
            let ctx = canvas.getContext("2d");
            let ball = { x: 200, y: 150, dx: 2, dy: 2, radius: 5 };
            let paddle = { x: 180, y: 280, width: 40, height: 10 };
            let rightPressed = false, leftPressed = false;

            document.addEventListener("keydown", function(e) {
                if (e.key === "Right" || e.key === "ArrowRight") rightPressed = true;
                if (e.key === "Left" || e.key === "ArrowLeft") leftPressed = true;
            });
            document.addEventListener("keyup", function(e) {
                if (e.key === "Right" || e.key === "ArrowRight") rightPressed = false;
                if (e.key === "Left" || e.key === "ArrowLeft") leftPressed = false;
            });

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
                ctx.beginPath();
                ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
                ctx.fill();

                ball.x += ball.dx;
                ball.y += ball.dy;

                if (ball.x < ball.radius || ball.x > canvas.width - ball.radius) ball.dx *= -1;
                if (ball.y < ball.radius) ball.dy *= -1;
                if (ball.y > canvas.height) startPongGame();

                if (
                    ball.y + ball.radius >= paddle.y &&
                    ball.x >= paddle.x &&
                    ball.x <= paddle.x + paddle.width
                ) {
                    ball.dy *= -1;
                }

                if (rightPressed && paddle.x < canvas.width - paddle.width) paddle.x += 4;
                if (leftPressed && paddle.x > 0) paddle.x -= 4;

                requestAnimationFrame(draw);
            }
            draw();
        }
    </script>
</body>
</html>
